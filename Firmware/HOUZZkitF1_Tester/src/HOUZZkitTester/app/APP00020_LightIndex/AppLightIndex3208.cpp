#include "AppLightIndex3208.h"

NS_DT_BEGIN

const uint8_t icon_light_index[] PROGMEM =
{
    0x00,0xee,
0x44,0x47,0x46,0x11,0x08,0x08,0x86,0x00,
0x00,0x00,0xfb,0xcf,0x05,0xfb,0xfa,0xf9,
0xca,0xc9,0xc9,0x9a,0x9a,0x99,0x57,0x57,
0x56,0x25,0x25,0x25,0x2c,0x00,0xc8,0x00,
0x00,0x08,0x08,0x40,0x00,0x10,0x00,0x01,
0x00,0x01,0x11,0x11,0x00,0x01,0x11,0x10,
0x00,0x01,0x11,0x02,0x00,0x01,0x10,0x00,
0x20,0x11,0x02,0x00,0x02,0x00,0x00,0x20,
0x00,0x00,0x00,0x02,0x00,0x2c,0x00,0x0a,
0x03,0x03,0x05,0x05,0x40,0x20,0x00,0x00,
0x10,0x30,0x00,0x00,0x30,0x30,0x00,0x30,
0x30,0x00,0x00,0x30,0x00,0x2c,0x00,0x0a,
0x03,0x03,0x05,0x05,0x40,0x20,0x00,0x00,
0x10,0x40,0x00,0x00,0x40,0x40,0x00,0x40,
0x40,0x00,0x00,0x40,0x00,0x2c,0x00,0x0a,
0x03,0x03,0x05,0x05,0x40,0x20,0x00,0x00,
0x10,0x50,0x00,0x00,0x50,0x50,0x00,0x50,
0x50,0x00,0x00,0x50,0x00,0x2c,0x00,0x0a,
0x03,0x03,0x05,0x05,0x40,0x20,0x00,0x00,
0x10,0x60,0x00,0x00,0x60,0x60,0x00,0x60,
0x60,0x00,0x00,0x60,0x00,0x2c,0x00,0x0a,
0x03,0x03,0x05,0x05,0x40,0x20,0x00,0x00,
0x10,0x50,0x00,0x00,0x50,0x50,0x00,0x50,
0x50,0x00,0x00,0x50,0x00,0x2c,0x00,0x0a,
0x03,0x03,0x05,0x05,0x40,0x20,0x00,0x00,
0x10,0x40,0x00,0x00,0x40,0x40,0x00,0x40,
0x40,0x00,0x00,0x40,0x00,0x2c,0x00,0x0a,
0x03,0x03,0x05,0x05,0x40,0x20,0x00,0x00,
0x10,0x30,0x00,0x00,0x30,0x30,0x00,0x30,
0x30,0x00,0x00,0x30,0x00,0x96
};

bool AppLightIndexLayer3208::initLayer()
{
    _layerStyle = LayerStyleIconNum3208::create();
    _layerStyle->initWithData(icon_light_index+2,GetUint16(icon_light_index),this->getData(),this);
    this->addChild(_layerStyle);
    return true;
}

void AppLightIndexLayer3208::printAction(SpriteCanvas* canvas)
{
//#ifndef TARGET_OS_MAC
    uint16_t lux = DEVICE.ldr.getCurrentLux();
//#else
//    uint16_t lux = random(10, 100);
//#endif
    canvas->printf("%d",lux);
}

NS_DT_END
